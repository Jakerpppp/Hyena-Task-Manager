{% extends 'base_content.html' %}
{% block title %} | Dashboard {% endblock%}
{% block content %}
<style>
  .title-color {
    color: #1a0d7a;
  }

  .info-card {
    border-radius: 16px;
    border: 1px solid #111111;
  }

  .bg-no-overdue {
    background-color: #f1e587;
    border: 1px solid #bdae40;
  }
  
  .bg-overdue {
    background-color: #c73c3c;
    border: 1px solid #8d1313;
    color: white;
  }

</style>
<div class="container">
  <div class="row">
    <div class="col-12">
      <h1 class="mt-2 mb-4 title-color">Dashboard</h1>

      <div class="info-card bg-no-overdue my-3 shadow-lg" style="max-width: 32rem;">
        <div class="card-body">
          <div class="mb-3">
            <h4 class="card-title">Welcome {{ user.first_name }},</h4>
          </div>
          <p class="card-text">
            {% include 'partials/overdue_tasks.html' with late_tasks=late_tasks %}
          </p>
        </div>
      </div>
      <div class="mt-5">
        <h3 class="mb-3"><i class="bi bi-people"></i> &Tab; Your Tasks ({{ user_tasks.count }})</h3>
        {% if user_tasks %}
          {% for task in user_tasks %}
            <div class="card-body mb-2" style="overflow: hidden; text-overflow: ellipsis;">
              <h5 class="card-title"><strong>{{ task.title }}</strong></h5>
            </div>
          {% endfor %}
        {% else %}
          You have no tasks assigned to you!
        {% endif %}
      </div>
      <div class="mt-5">
        <h3 class="mb-3"><i class="bi bi-people"></i> &Tab; Your Teams ({{ user_teams.count }})</h3>
        {% include 'partials/teams.html' with user_teams=user_teams %}
      </div>
    </div>
</div>
{% endblock %}